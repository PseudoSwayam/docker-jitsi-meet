services:
  - type: web
    name: jitsi-private-chat
    env: docker
    plan: free # This is the key change for the free tier
    healthCheckPath: /
    # Free tier instances spin down after 15 minutes of inactivity.
    # A new request will spin them back up, which can take 30-60 seconds.
    envVars:
      - key: PUBLIC_URL
        value: https://${RENDER_EXTERNAL_HOSTNAME}
      - key: DOCKER_HOST_ADDRESS
        fromService:
          type: web
          name: jitsi-private-chat
          property: host
      - key: TZ
        value: Etc/UTC # Or your timezone, e.g., America/New_York
      
      # --- IMPORTANT PRIVACY SETTINGS ---
      - key: ENABLE_AUTH
        value: "1"
      - key: ENABLE_GUESTS
        value: "0"
      - key: AUTH_TYPE
        value: internal
      
      # --- Other Jitsi settings ---
      - key: JVB_STUN_SERVERS
        value: "stun.l.google.com:19302,stun.jitsi.net:4443"
